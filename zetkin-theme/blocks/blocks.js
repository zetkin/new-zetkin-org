/*! For license information please see blocks.js.LICENSE.txt */
(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";t=function(){return r};var n,r={},a=Object.prototype,o=a.hasOwnProperty,l=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function m(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{m({},"")}catch(n){m=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),i=new O(r||[]);return l(o,"_invoke",{value:z(e,n,i)}),o}function g(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var f="suspendedStart",d="suspendedYield",h="executing",v="completed",b={};function y(){}function k(){}function E(){}var R={};m(R,c,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(N([])));x&&x!==a&&o.call(x,c)&&(R=x);var C=E.prototype=y.prototype=Object.create(R);function S(e){["next","throw","return"].forEach((function(t){m(e,t,(function(e){return this._invoke(t,e)}))}))}function L(t,n){function r(a,l,i,c){var u=g(t[a],t,l);if("throw"!==u.type){var s=u.arg,m=s.value;return m&&"object"==e(m)&&o.call(m,"__await")?n.resolve(m.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):n.resolve(m).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(u.arg)}var a;l(this,"_invoke",{value:function(e,t){function o(){return new n((function(n,a){r(e,t,n,a)}))}return a=a?a.then(o,o):o()}})}function z(e,t,r){var a=f;return function(o,l){if(a===h)throw new Error("Generator is already running");if(a===v){if("throw"===o)throw l;return{value:n,done:!0}}for(r.method=o,r.arg=l;;){var i=r.delegate;if(i){var c=P(i,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var u=g(e,t,r);if("normal"===u.type){if(a=r.done?v:d,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function P(e,t){var r=t.method,a=e.iterator[r];if(a===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,P(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=g(a,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,b;var l=o.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,b):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,l=function e(){for(;++a<t.length;)if(o.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=n,e.done=!0,e};return l.next=l}}throw new TypeError(e(t)+" is not iterable")}return k.prototype=E,l(C,"constructor",{value:E,configurable:!0}),l(E,"constructor",{value:k,configurable:!0}),k.displayName=m(E,s,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,m(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},r.awrap=function(e){return{__await:e}},S(L.prototype),m(L.prototype,u,(function(){return this})),r.AsyncIterator=L,r.async=function(e,t,n,a,o){void 0===o&&(o=Promise);var l=new L(p(e,t,n,a),o);return r.isGeneratorFunction(t)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},S(C),m(C,s,"Generator"),m(C,c,(function(){return this})),m(C,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},r.values=N,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return i.type="throw",i.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a],i=l.completion;if("root"===l.tryLoc)return r("end");if(l.tryLoc<=this.prev){var c=o.call(l,"catchLoc"),u=o.call(l,"finallyLoc");if(c&&u){if(this.prev<l.catchLoc)return r(l.catchLoc,!0);if(this.prev<l.finallyLoc)return r(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return r(l.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return r(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),b}},r}function n(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}var r=wp.blocks.registerBlockType,a=wp.blockEditor,o=a.InnerBlocks,l=a.InspectorControls,i=a.ColorPalette,c=a.MediaUpload,u=wp.components,s=u.PanelBody,m=u.Button,p=u.SelectControl,g=u.TextControl,f=wp.i18n.__;r("zetkin/custom-section",{title:"Zetkin Custom Section",category:"zetkin",icon:"align-full-width",attributes:{backgroundColor:{type:"string",default:"#888888"},backgroundImage:{type:"string",default:""},backgroundPosition:{type:"string",default:"center center"},backgroundSize:{type:"string",default:"cover"},backgroundRepeat:{type:"string",default:"no-repeat"}},edit:function(e){var t=e.attributes,n=t.backgroundColor,r=t.backgroundImage,a=t.backgroundPosition,u=t.backgroundSize,g=t.backgroundRepeat,d=e.setAttributes;return React.createElement(React.Fragment,null,React.createElement(l,null,React.createElement(s,{title:"Background Color Settings",initialOpen:!0},React.createElement(i,{value:n,onChange:function(e){d({backgroundColor:e})}}),React.createElement("p",null,f("Background Image","text-domain")),React.createElement(c,{onSelect:function(e){d({backgroundImage:e.url})},allowedTypes:["image"],value:r,render:function(e){var t=e.open;return React.createElement(m,{onClick:t,secondary:"true",islarge:"true"},f(r?"Change Image":"Select Image","text-domain"))}}),React.createElement(p,{label:"Background Position",value:a,options:[{label:"Center Center",value:"center center"},{label:"Top Left",value:"top left"},{label:"Top Center",value:"top center"}],onChange:function(e){d({backgroundPosition:e})}}),React.createElement(p,{label:"Background Size",value:u,options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Auto",value:"auto"}],onChange:function(e){d({backgroundSize:e})}}),React.createElement(p,{label:"Background Repeat",value:g,options:[{label:"No Repeat",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Repeat X",value:"repeat-x"},{label:"Repeat Y",value:"repeat-y"}],onChange:function(e){d({backgroundRepeat:e})}}))),React.createElement("div",{className:"wp-block-cover zetkin_customSection",style:{backgroundColor:n,backgroundImage:r?"url(".concat(r,")"):"none",backgroundPosition:a,backgroundSize:u,backgroundRepeat:g}},React.createElement(o,{template:[["core/heading",{placeholder:"Enter heading..."}],["core/paragraph",{placeholder:"Enter text..."}]]})))},save:function(e){var t=e.attributes,n=t.backgroundColor,r=t.backgroundImage,a=t.backgroundPosition,l=t.backgroundSize,i=t.backgroundRepeat;return React.createElement("div",{className:"wp-block-cover zetkin_customSection",style:{backgroundColor:n,backgroundImage:r?"url(".concat(r,")"):"none",backgroundPosition:a,backgroundSize:l,backgroundRepeat:i}},React.createElement(o.Content,null))}}),r("zetkin/flex-heading",{icon:"heading",title:"Zetkin Flex Heading",category:"zetkin",attributes:{mainFlexHeadColor:{type:"string",default:"mn--blk"},obliqueFlexHeadColor:{type:"string",default:"em--blk"}},edit:function(e){var t=e.attributes,n=t.mainFlexHeadColor,r=t.obliqueFlexHeadColor,a=e.setAttributes;return React.createElement(React.Fragment,null,React.createElement(l,null,React.createElement(s,{title:"Flex Header Settings",initialOpen:!0},React.createElement(p,{label:"Main Header Color",value:n,options:[{label:"black",value:"mn--blk"},{label:"White",value:"mn--wht"},{label:"Red",value:"mn--red"},{label:"Light Green",value:"mn--ltgrn"},{label:"Dark Green",value:"mn--dkgrn"},{label:"Purple",value:"mn--ppl"}],onChange:function(e){a({mainFlexHeadColor:e})}}),React.createElement(p,{label:"Oblique Color",value:r,options:[{label:"black",value:"em--blk"},{label:"White",value:"em--wht"},{label:"Red",value:"em--red"},{label:"Light Green",value:"em--ltgrn"},{label:"Dark Green",value:"em--dkgrn"},{label:"Purple",value:"em--ppl"}],onChange:function(e){a({obliqueFlexHeadColor:e})}}))),React.createElement("div",{className:"zetkin_flexHeader ".concat(n," ").concat(r)},React.createElement(o,{template:[["core/paragraph",{placeholder:"Enter heading..."}]]})))},save:function(e){var t=e.attributes,n=t.mainFlexHeadColor,r=t.obliqueFlexHeadColor;return React.createElement("div",{className:"zetkin_flexHeader ".concat(n," ").concat(r)},React.createElement(o.Content,null))}}),r("zetkin/employee-list",{icon:"groups",title:"Zetkin Employee List",category:"layout",edit:function(e){var t=e.attributes.listItemWidth;return e.setAttributes,React.createElement(React.Fragment,null,React.createElement(l,null,React.createElement(s,{title:"Employee List Settings",initialOpen:!0},React.createElement(p,{label:"Element Width",value:t,options:[{label:"black",value:"mn--blk"},{label:"White",value:"mn--wht"},{label:"Red",value:"mn--red"},{label:"Light Green",value:"mn--ltgrn"},{label:"Dark Green",value:"mn--dkgrn"},{label:"Purple",value:"mn--ppl"}]}))),React.createElement("div",{className:"employee-list"},React.createElement(o,{allowedBlocks:["zetkin/employee"]})))},save:function(e){var t=e.attributes.listItemWidth;return React.createElement("div",{className:"zetkin_flexHeader ".concat(t," ")},React.createElement(o.Content,null))}});var d=wp.data,h=d.withSelect;d.withDispatch,r("zetkin/employee",{icon:"id-alt",title:"Zetkin Employee",category:"layout",parent:["zetkin/employee-list"],attributes:{name:{type:"string",default:"John Doe"},title:{type:"string",default:"Superhero"},imageUrl:{type:"string",default:""},imageId:{type:"number"},imageSize:{type:"string",default:"full"}},edit:h((function(e){var t=e("core/block-editor").getSettings,n=e("core").getMedia;return{imageSizes:t().imageSizes,media:n}}))((function(e){var r=e.attributes,a=e.setAttributes,o=e.imageSizes,i=e.media,u=o.map((function(e){return{label:e.name,value:e.slug}})),f=function(){var e,o=(e=t().mark((function e(n){var o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a({imageSize:n}),!r.imageId){e.next=6;break}return e.next=4,i(r.imageId);case 4:(o=e.sent)&&o.media_details.sizes[n]&&a({imageUrl:o.media_details.sizes[n].source_url});case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,o){var l=e.apply(t,r);function i(e){n(l,a,o,i,c,"next",e)}function c(e){n(l,a,o,i,c,"throw",e)}i(void 0)}))});return function(e){return o.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(l,null,React.createElement(s,{title:"Employee Settings",initialOpen:!0},React.createElement(p,{label:"Image Size",value:r.imageSize,options:u,onChange:f}))),React.createElement("div",{className:"employee-details"},React.createElement(c,{onSelect:function(e){a({imageId:e.id,imageUrl:e.sizes[r.imageSize].url})},type:"image",value:r.imageId,render:function(e){var t=e.open;return React.createElement(m,{onClick:t},r.imageUrl?"Edit Image":"Upload Image")}}),r.imageUrl&&React.createElement("img",{src:r.imageUrl,alt:r.name}),React.createElement(g,{label:"Name",value:r.name,onChange:function(e){return a({name:e})}}),React.createElement(g,{label:"Title",value:r.title,onChange:function(e){return a({title:e})}})))})),save:function(e){var t=e.attributes;return React.createElement("div",{className:"employee-details"},t.imageUrl&&React.createElement("img",{src:t.imageUrl,alt:t.name}),React.createElement("p",{className:"employee-name"},t.name),React.createElement("p",{className:"employee-title"},t.title))}});var v=wp.data,b=v.useSelect,y=v.ServerSideRender;r("zetkin/post-list",{icon:"list-view",title:"Zetkin Post List",category:"layout",attributes:{postType:{type:"string",default:"post"},category:{type:"number",default:1},numberOfPosts:{type:"number",default:5}},edit:function(e){var t=e.attributes,n=t.postType,r=t.category,a=t.numberOfPosts,o=e.setAttributes,i=b((function(e){return{categories:e("core").getEntityRecords("taxonomy","category")||[]}}),[]).categories.map((function(e){return{label:e.name,value:e.id}}));return React.createElement(React.Fragment,null,React.createElement(l,null,React.createElement(s,{title:"Post List Settings",initialOpen:!0},React.createElement(p,{label:"Post Type",value:n,options:[{label:"Post",value:"post"},{label:"Page",value:"page"},{label:"Product",value:"product"}],onChange:function(e){o({postType:e})}}),React.createElement(p,{label:"Category",value:r,options:i,onChange:function(e){o({category:e})}}),React.createElement(g,{label:"Number of Posts",value:a,onChange:function(e){o({numberOfPosts:e})}}))),React.createElement(y,{block:"zetkin/post-list",attributes:e.attributes}))},save:function(){return null}})})();